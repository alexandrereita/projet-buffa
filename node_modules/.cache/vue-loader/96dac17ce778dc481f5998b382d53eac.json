{"remainingRequest":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\src\\components\\RestaurantDetail.vue?vue&type=style&index=0&id=f70ce1c4&scoped=true&lang=css&","dependencies":[{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\src\\components\\RestaurantDetail.vue","mtime":1578947832965},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCi5iYWNrIHsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB0b3A6IDUwcHg7DQogICAgbWF4LXdpZHRoOiA1MHB4Ow0KCWJveC1zaGFkb3c6aW5zZXQgMHB4IDFweCAwcHggMHB4ICNmZmZmZmY7DQoJYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZjlmOWY5IDUlLCAjZTllOWU5IDEwMCUpOw0KCWJhY2tncm91bmQtY29sb3I6I2Y5ZjlmOTsNCglib3JkZXItcmFkaXVzOjZweDsNCglib3JkZXI6MXB4IHNvbGlkICNkY2RjZGM7DQoJY3Vyc29yOnBvaW50ZXI7DQoJY29sb3I6IzgwNzc4MDsNCglmb250LWZhbWlseTpBcmlhbDsNCglmb250LXNpemU6MTVweDsNCglmb250LXdlaWdodDpib2xkOw0KCXBhZGRpbmc6NnB4IDI0cHg7DQoJdGV4dC1kZWNvcmF0aW9uOm5vbmU7DQp9DQouYmFjazpob3ZlciB7DQoJYmFja2dyb3VuZDpsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZTllOWU5IDUlLCAjZjlmOWY5IDEwMCUpOw0KCWJhY2tncm91bmQtY29sb3I6I2U5ZTllOTsNCn0NCg0KI2xvZ28gew0KICBmb250LWZhbWlseTogJ09wZW4gU2FucycsIHNhbnMtc2VyaWY7DQogIGNvbG9yOiAjNTU1Ow0KICB0ZXh0LWRlY29yYXRpb246IG5vbmU7DQogIHRleHQtdHJhbnNmb3JtOiB1cHBlcmNhc2U7DQogIGZvbnQtc2l6ZTogMTAwcHg7DQogIGZvbnQtd2VpZ2h0OiA4MDA7DQogIGxldHRlci1zcGFjaW5nOiAtM3B4Ow0KICBsaW5lLWhlaWdodDogMTsNCiAgdGV4dC1zaGFkb3c6ICNFREVERUQgM3B4IDJweCAwOw0KICBwb3NpdGlvbjogcmVsYXRpdmU7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KfQ0KI2xvZ286YWZ0ZXIgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgbWFyZ2luLXRvcDogNXB4Ow0KICBtYXJnaW4tbGVmdDogNHB4Ow0KICAvKmJhY2tncm91bmQ6IHVybChodHRwczovL3N1YnRsZXBhdHRlcm5zLmNvbS9wYXR0ZXJucy9jcm9zc2VkX3N0cmlwZXMucG5nKSByZXBlYXQ7Ki8NCiAgYmFja2dyb3VuZC1pbWFnZTogLXdlYmtpdC1saW5lYXItZ3JhZGllbnQobGVmdCB0b3AsIHRyYW5zcGFyZW50IDAlLCB0cmFuc3BhcmVudCAyNSUsICM1NTUgMjUlLCAjNTU1IDUwJSwgdHJhbnNwYXJlbnQgNTAlLCB0cmFuc3BhcmVudCA3NSUsICM1NTUgNzUlKTsNCiAgYmFja2dyb3VuZC1zaXplOiA0cHggNHB4Ow0KICAtd2Via2l0LWJhY2tncm91bmQtY2xpcDogdGV4dDsNCiAgLXdlYmtpdC10ZXh0LWZpbGwtY29sb3I6IHRyYW5zcGFyZW50Ow0KICB6LWluZGV4OiAtNTsNCiAgY29udGVudDogYXR0cihkYXRhLWJlZm9yZSk7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICB0ZXh0LXNoYWRvdzogbm9uZTsNCn0NCg=="},{"version":3,"sources":["RestaurantDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RestaurantDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <router-link to=\"/\" class=\"back\">BACK</router-link>\r\n    <h1 id=\"logo\">{{ restaurant.name }}</h1>\r\n    <div>\r\n        <Menu :menu=\"menu[0]\" />\r\n        <Menu :menu=\"menu[1]\" />\r\n        <Menu :menu=\"menu[2]\" />\r\n    </div>\r\n    <GmapMap \r\n        ref=\"mapRef\"\r\n        :center=\"{lat:10,lng:10}\"\r\n        :zoom=\"7\"\r\n        map-type-id=\"terrain\"\r\n        style=\"width: 500px; height: 300px\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Menu from './Menu.vue'\r\nimport foods from '../assets/data.json'\r\n\r\nexport default {\r\n  name: 'RestaurantDetail',\r\n  components: {\r\n      Menu\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  data:() => {\r\n    return {\r\n        restaurant: {name: 'café de Paris', address: { coord: [10,10]}},\r\n        food: foods,\r\n        menu : [\r\n            {\r\n                nom: 'Menu #1',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n            },\r\n            {\r\n                nom: 'Menu #2',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n            },\r\n            {\r\n                nom: 'Menu #3',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n            }\r\n        ]\r\n    }\r\n  },\r\n  watch: {\r\n      $route (to,from){\r\n          console.log('watch route', to, from)\r\n          this.getRestaurantsFromServer();\r\n          this.makeNewMenu()\r\n      }\r\n  },\r\n  mounted(){\r\n    this.getRestaurantsFromServer();\r\n  },\r\n   methods: {\r\n       makeNewMenu() {\r\n           this.menu = [{\r\n                nom: 'Menu #1',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n           },\r\n           {\r\n                nom: 'Menu #2',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n           },\r\n           {\r\n                nom: 'Menu #3',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n           }]\r\n       },\r\n       getRandomInt(max) {\r\n           return Math.floor(Math.random() * Math.floor(max));\r\n       },\r\n            getRestaurantsFromServer() {\r\n                let url = \"http://localhost:8080/api/restaurant?id=\" + this.$route.params.id\r\n\r\n                fetch(url)\r\n                    .then(responseJSON => {\r\n                        return responseJSON.json()\r\n                        .then(res => {\r\n                            // Maintenant res est un vrai objet JavaScript\r\n                            console.log('DETAIL', res.restaurant)\r\n                            this.restaurant = res.restaurant\r\n                            var logo = document.querySelector('#logo')\r\n                            logo.setAttribute(\"data-before\",res.restaurant.name)\r\n\r\n                            this.$refs.mapRef.panTo({lat: this.restaurant.address.coord[1],lng:this.restaurant.address.coord[0]})\r\n                        });\r\n                    })\r\n                    .catch(function (err) {\r\n                        console.log(err.msg);\r\n                });\r\n            },\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.back {\r\n    display: flex;\r\n    position: absolute;\r\n    top: 50px;\r\n    max-width: 50px;\r\n\tbox-shadow:inset 0px 1px 0px 0px #ffffff;\r\n\tbackground:linear-gradient(to bottom, #f9f9f9 5%, #e9e9e9 100%);\r\n\tbackground-color:#f9f9f9;\r\n\tborder-radius:6px;\r\n\tborder:1px solid #dcdcdc;\r\n\tcursor:pointer;\r\n\tcolor:#807780;\r\n\tfont-family:Arial;\r\n\tfont-size:15px;\r\n\tfont-weight:bold;\r\n\tpadding:6px 24px;\r\n\ttext-decoration:none;\r\n}\r\n.back:hover {\r\n\tbackground:linear-gradient(to bottom, #e9e9e9 5%, #f9f9f9 100%);\r\n\tbackground-color:#e9e9e9;\r\n}\r\n\r\n#logo {\r\n  font-family: 'Open Sans', sans-serif;\r\n  color: #555;\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  font-size: 100px;\r\n  font-weight: 800;\r\n  letter-spacing: -3px;\r\n  line-height: 1;\r\n  text-shadow: #EDEDED 3px 2px 0;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n#logo:after {\r\n    position: absolute;\r\n  margin-top: 5px;\r\n  margin-left: 4px;\r\n  /*background: url(https://subtlepatterns.com/patterns/crossed_stripes.png) repeat;*/\r\n  background-image: -webkit-linear-gradient(left top, transparent 0%, transparent 25%, #555 25%, #555 50%, transparent 50%, transparent 75%, #555 75%);\r\n  background-size: 4px 4px;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  z-index: -5;\r\n  content: attr(data-before);\r\n  justify-content: center;\r\n  text-shadow: none;\r\n}\r\n</style>\r\n"]}]}