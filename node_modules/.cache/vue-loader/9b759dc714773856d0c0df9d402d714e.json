{"remainingRequest":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\src\\components\\RestaurantDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\src\\components\\RestaurantDetail.vue","mtime":1578869004907},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Alexa\\Desktop\\M1\\Web\\TEST\\projet-buffa\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgTWVudSBmcm9tICcuL01lbnUudnVlJw0KaW1wb3J0IGZvb2RzIGZyb20gJy4uL2Fzc2V0cy9kYXRhLmpzb24nDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1Jlc3RhdXJhbnREZXRhaWwnLA0KICBjb21wb25lbnRzOiB7DQogICAgICBNZW51DQogIH0sDQogIHByb3BzOiB7DQogICAgbXNnOiBTdHJpbmcNCiAgfSwNCiAgZGF0YTooKSA9PiB7DQogICAgcmV0dXJuIHsNCiAgICAgICAgcmVzdGF1cmFudDoge25hbWU6ICdjYWbDqSBkZSBQYXJpcycsIGFkZHJlc3M6IHsgY29vcmQ6IFsxMCwxMF19fSwNCiAgICAgICAgZm9vZDogZm9vZHMsDQogICAgICAgIG1lbnUgOiBbDQogICAgICAgICAgICB7DQogICAgICAgICAgICAgICAgbm9tOiAnTWVudSAjMScsDQogICAgICAgICAgICAgICAgZW50csOpZTogZm9vZHMuZW50csOpZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKDEwKSldLA0KICAgICAgICAgICAgICAgIHBsYXQ6IGZvb2RzLnBsYXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigxMCkpXSwNCiAgICAgICAgICAgICAgICBkZXNzZXJ0OiBmb29kcy5kZXNzZXJ0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoMTApKV0sDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG5vbTogJ01lbnUgIzInLA0KICAgICAgICAgICAgICAgIGVudHLDqWU6IGZvb2RzLmVudHLDqWVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigxMCkpXSwNCiAgICAgICAgICAgICAgICBwbGF0OiBmb29kcy5wbGF0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoMTApKV0sDQogICAgICAgICAgICAgICAgZGVzc2VydDogZm9vZHMuZGVzc2VydFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKDEwKSldLA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBub206ICdNZW51ICMzJywNCiAgICAgICAgICAgICAgICBlbnRyw6llOiBmb29kcy5lbnRyw6llW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoMTApKV0sDQogICAgICAgICAgICAgICAgcGxhdDogZm9vZHMucGxhdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKDEwKSldLA0KICAgICAgICAgICAgICAgIGRlc3NlcnQ6IGZvb2RzLmRlc3NlcnRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigxMCkpXSwNCiAgICAgICAgICAgIH0NCiAgICAgICAgXQ0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICAgICRyb3V0ZSAodG8sZnJvbSl7DQogICAgICAgICAgY29uc29sZS5sb2coJ3dhdGNoIHJvdXRlJywgdG8sIGZyb20pDQogICAgICAgICAgdGhpcy5nZXRSZXN0YXVyYW50c0Zyb21TZXJ2ZXIoKTsNCiAgICAgICAgICB0aGlzLm1ha2VOZXdNZW51KCkNCiAgICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpew0KICAgIHRoaXMuZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCk7DQogIH0sDQogICBtZXRob2RzOiB7DQogICAgICAgbWFrZU5ld01lbnUoKSB7DQogICAgICAgICAgIHRoaXMubWVudSA9IFt7DQogICAgICAgICAgICAgICAgbm9tOiAnTWVudSAjMScsDQogICAgICAgICAgICAgICAgZW50csOpZTogZm9vZHMuZW50csOpZVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKDEwKSldLA0KICAgICAgICAgICAgICAgIHBsYXQ6IGZvb2RzLnBsYXRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigxMCkpXSwNCiAgICAgICAgICAgICAgICBkZXNzZXJ0OiBmb29kcy5kZXNzZXJ0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoMTApKV0sDQogICAgICAgICAgIH0sDQogICAgICAgICAgIHsNCiAgICAgICAgICAgICAgICBub206ICdNZW51ICMyJywNCiAgICAgICAgICAgICAgICBlbnRyw6llOiBmb29kcy5lbnRyw6llW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoMTApKV0sDQogICAgICAgICAgICAgICAgcGxhdDogZm9vZHMucGxhdFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKDEwKSldLA0KICAgICAgICAgICAgICAgIGRlc3NlcnQ6IGZvb2RzLmRlc3NlcnRbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigxMCkpXSwNCiAgICAgICAgICAgfSwNCiAgICAgICAgICAgew0KICAgICAgICAgICAgICAgIG5vbTogJ01lbnUgIzMnLA0KICAgICAgICAgICAgICAgIGVudHLDqWU6IGZvb2RzLmVudHLDqWVbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcigxMCkpXSwNCiAgICAgICAgICAgICAgICBwbGF0OiBmb29kcy5wbGF0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIE1hdGguZmxvb3IoMTApKV0sDQogICAgICAgICAgICAgICAgZGVzc2VydDogZm9vZHMuZGVzc2VydFtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBNYXRoLmZsb29yKDEwKSldLA0KICAgICAgICAgICB9XQ0KICAgICAgIH0sDQogICAgICAgZ2V0UmFuZG9tSW50KG1heCkgew0KICAgICAgICAgICByZXR1cm4gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogTWF0aC5mbG9vcihtYXgpKTsNCiAgICAgICB9LA0KICAgICAgICAgICAgZ2V0UmVzdGF1cmFudHNGcm9tU2VydmVyKCkgew0KICAgICAgICAgICAgICAgIGxldCB1cmwgPSAiaHR0cDovL2xvY2FsaG9zdDo4MDgwL2FwaS9yZXN0YXVyYW50P2lkPSIgKyB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQNCg0KICAgICAgICAgICAgICAgIGZldGNoKHVybCkNCiAgICAgICAgICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2VKU09OID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZUpTT04uanNvbigpDQogICAgICAgICAgICAgICAgICAgICAgICAudGhlbihyZXMgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1haW50ZW5hbnQgcmVzIGVzdCB1biB2cmFpIG9iamV0IEphdmFTY3JpcHQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnREVUQUlMJywgcmVzLnJlc3RhdXJhbnQpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0YXVyYW50ID0gcmVzLnJlc3RhdXJhbnQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgbG9nbyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb2dvJykNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2dvLnNldEF0dHJpYnV0ZSgiZGF0YS1iZWZvcmUiLHJlcy5yZXN0YXVyYW50Lm5hbWUpDQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLm1hcFJlZi5wYW5Ubyh7bGF0OiB0aGlzLnJlc3RhdXJhbnQuYWRkcmVzcy5jb29yZFswXSxsbmc6dGhpcy5yZXN0YXVyYW50LmFkZHJlc3MuY29vcmRbMV19KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIubXNnKTsNCiAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIH0sDQogIH0NCn0NCg=="},{"version":3,"sources":["RestaurantDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"RestaurantDetail.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div>\r\n    <router-link to=\"/\" class=\"back\">BACK</router-link>\r\n    <h1 id=\"logo\">{{ restaurant.name }}</h1>\r\n    <div>\r\n        <Menu :menu=\"menu[0]\" />\r\n        <Menu :menu=\"menu[1]\" />\r\n        <Menu :menu=\"menu[2]\" />\r\n    </div>\r\n    <GmapMap \r\n        ref=\"mapRef\"\r\n        :center=\"{lat:10,lng:10}\"\r\n        :zoom=\"7\"\r\n        map-type-id=\"terrain\"\r\n        style=\"width: 500px; height: 300px\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Menu from './Menu.vue'\r\nimport foods from '../assets/data.json'\r\n\r\nexport default {\r\n  name: 'RestaurantDetail',\r\n  components: {\r\n      Menu\r\n  },\r\n  props: {\r\n    msg: String\r\n  },\r\n  data:() => {\r\n    return {\r\n        restaurant: {name: 'café de Paris', address: { coord: [10,10]}},\r\n        food: foods,\r\n        menu : [\r\n            {\r\n                nom: 'Menu #1',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n            },\r\n            {\r\n                nom: 'Menu #2',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n            },\r\n            {\r\n                nom: 'Menu #3',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n            }\r\n        ]\r\n    }\r\n  },\r\n  watch: {\r\n      $route (to,from){\r\n          console.log('watch route', to, from)\r\n          this.getRestaurantsFromServer();\r\n          this.makeNewMenu()\r\n      }\r\n  },\r\n  mounted(){\r\n    this.getRestaurantsFromServer();\r\n  },\r\n   methods: {\r\n       makeNewMenu() {\r\n           this.menu = [{\r\n                nom: 'Menu #1',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n           },\r\n           {\r\n                nom: 'Menu #2',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n           },\r\n           {\r\n                nom: 'Menu #3',\r\n                entrée: foods.entrée[Math.floor(Math.random() * Math.floor(10))],\r\n                plat: foods.plat[Math.floor(Math.random() * Math.floor(10))],\r\n                dessert: foods.dessert[Math.floor(Math.random() * Math.floor(10))],\r\n           }]\r\n       },\r\n       getRandomInt(max) {\r\n           return Math.floor(Math.random() * Math.floor(max));\r\n       },\r\n            getRestaurantsFromServer() {\r\n                let url = \"http://localhost:8080/api/restaurant?id=\" + this.$route.params.id\r\n\r\n                fetch(url)\r\n                    .then(responseJSON => {\r\n                        return responseJSON.json()\r\n                        .then(res => {\r\n                            // Maintenant res est un vrai objet JavaScript\r\n                            console.log('DETAIL', res.restaurant)\r\n                            this.restaurant = res.restaurant\r\n                            var logo = document.querySelector('#logo')\r\n                            logo.setAttribute(\"data-before\",res.restaurant.name)\r\n\r\n                            this.$refs.mapRef.panTo({lat: this.restaurant.address.coord[0],lng:this.restaurant.address.coord[1]})\r\n                        });\r\n                    })\r\n                    .catch(function (err) {\r\n                        console.log(err.msg);\r\n                });\r\n            },\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.back {\r\n    display: flex;\r\n    position: absolute;\r\n    top: 50px;\r\n    max-width: 50px;\r\n\tbox-shadow:inset 0px 1px 0px 0px #ffffff;\r\n\tbackground:linear-gradient(to bottom, #f9f9f9 5%, #e9e9e9 100%);\r\n\tbackground-color:#f9f9f9;\r\n\tborder-radius:6px;\r\n\tborder:1px solid #dcdcdc;\r\n\tcursor:pointer;\r\n\tcolor:#807780;\r\n\tfont-family:Arial;\r\n\tfont-size:15px;\r\n\tfont-weight:bold;\r\n\tpadding:6px 24px;\r\n\ttext-decoration:none;\r\n}\r\n.back:hover {\r\n\tbackground:linear-gradient(to bottom, #e9e9e9 5%, #f9f9f9 100%);\r\n\tbackground-color:#e9e9e9;\r\n}\r\n\r\n#logo {\r\n  font-family: 'Open Sans', sans-serif;\r\n  color: #555;\r\n  text-decoration: none;\r\n  text-transform: uppercase;\r\n  font-size: 100px;\r\n  font-weight: 800;\r\n  letter-spacing: -3px;\r\n  line-height: 1;\r\n  text-shadow: #EDEDED 3px 2px 0;\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n}\r\n#logo:after {\r\n    position: absolute;\r\n  margin-top: 5px;\r\n  margin-left: 4px;\r\n  /*background: url(https://subtlepatterns.com/patterns/crossed_stripes.png) repeat;*/\r\n  background-image: -webkit-linear-gradient(left top, transparent 0%, transparent 25%, #555 25%, #555 50%, transparent 50%, transparent 75%, #555 75%);\r\n  background-size: 4px 4px;\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  z-index: -5;\r\n  content: attr(data-before);\r\n  justify-content: center;\r\n  text-shadow: none;\r\n}\r\n</style>\r\n"]}]}